{"project":"steel","version":"","testSuites":3,"testCases":37,"smelledTestSuites":2,"smelledTestCases":0,"smells":52,"smelledFiles":[{"path":"/home/gabriel/Desktop/research/projects/serverless-express/__tests__/unit.js","testCases":17,"smells":4,"smellInfo":[{"name":"Ignored Test","packageName":"ignoredTest","items":[{"frame":"  173 | }\n  174 |\n> 175 | describe.skip('forwardResponse: content-type encoding', () => {\n      |         ^ Ignored Test\n  176 |   test('content-type header missing', async (done) => {\n  177 |     const binaryMimeTypes = []\n  178 |     const multiValueHeaders = { foo: ['bar'] }","start":{"line":175,"column":9,"index":5830}}]},{"name":"Lazy Test","packageName":"lazyTest","items":[{"frame":"  301 |       (resolve, reject) => {\n  302 |         const context = new MockContext(resolve, reject)\n> 303 |         const contextResolver = makeResolver({\n      |                                ^ Lazy Test\n  304 |           context,\n  305 |           resolutionMode: 'CONTEXT'\n  306 |         })","start":{"line":303,"column":32,"index":10118}},{"frame":"  314 |   test('CALLBACK', () => {\n  315 |     const callback = (e, response) => response\n> 316 |     const callbackResolver = makeResolver({\n      |                             ^ Lazy Test\n  317 |       callback,\n  318 |       resolutionMode: 'CALLBACK',\n  319 |       context: {}","start":{"line":316,"column":29,"index":10468}},{"frame":"  332 |         reject\n  333 |       }\n> 334 |       const promiseResolver = makeResolver({\n      |                              ^ Lazy Test\n  335 |         promise,\n  336 |         resolutionMode: 'PROMISE'\n  337 |       })","start":{"line":334,"column":30,"index":10866}}]}],"metrics":{"aggregate":{"cyclomatic":49,"cyclomaticDensity":12.159,"halstead":{"bugs":3.129,"difficulty":30.74,"effort":288588.646,"length":1287,"time":16032.703,"vocabulary":157,"volume":9388.177,"operands":{"distinct":144,"total":681,"identifiers":["serverlessExpressTransport","require","\"../src/transport\"","serverlessExpressEventSourcesUtils","\"../src/event-sources/utils\"","eventSources","\"../src/event-sources\"","makeResolver","\"../src/make-resolver\"","ServerlessRequest","\"../src/request\"","ServerlessResponse","\"../src/response\"","log","MockContext","\"../jest-helpers\"","apiGatewayEventSource","getEventSource","eventSourceName","\"AWS_API_GATEWAY_V1\"","test","\"getPathWithQueryStringParams: no params\"","event","path","\"/foo/bar\"","pathWithQueryStringParams","getPathWithQueryStringParams","expect","toEqual","\"getPathWithQueryStringParams: 1 param\"","multiValueQueryStringParameters","bizz","\"bazz\"","\"/foo/bar?bizz=bazz\"","\"getPathWithQueryStringParams: to be url-encoded param\"","redirect_uri","\"http://lvh.me:3000/cb\"","\"/foo/bar?redirect_uri=http%3A%2F%2Flvh.me%3A3000%2Fcb\"","\"getPathWithQueryStringParams: 2 params\"","buzz","\"bozz\"","\"/foo/bar?bizz=bazz&buzz=bozz\"","\"getPathWithQueryStringParams: array param\"","\"buzz\"","\"/foo/bar?bizz=bazz&bizz=buzz\"","getReqRes","multiValueHeaders","\"/foo\"","httpMethod","\"GET\"","body","\"Hello serverless!\"","requestContext","identity","sourceIp","\"132.33.134.75\"","requestValues","getRequest","requestResponse","getRequestResponse","\"getRequestResponse: with headers\"","request","\"x-foo\"","\"foo\"","toBeInstanceOf","Buffer","toString","\"utf-8\"","method","url","headers","\"content-length\"","byteLength","\"getRequestResponse: without headers\"","describe","\"respondToEventSourceWithError\"","\"responds with 500 status\"","Promise","resolve","reject","context","contextResolver","succeed","p","response","fail","error","respondToEventSourceWithError","Error","\"ERROR\"","resolver","eventSource","then","successResponse","statusCode","500","\"\"","isBase64Encoded","false","\"responds with 500 status and stack trace\"","\"There was an error...\"","respondWithErrors","true","toContain","\"Error: There was an error...\n    at \"","getContextResolver","skip","\"forwardResponse: content-type encoding\"","\"content-type header missing\"","done","binaryMimeTypes","foo","\"bar\"","forwardResponse","200","\"content-type image/jpeg base64 encoded\"","\"image/jpeg\"","\"content-type\"","\"hello world\"","from","\"base64\"","\"content-type application/json\"","\"application/json\"","JSON","stringify","hello","\"world\"","\"wildcards in binary types array\"","\"image/*\"","\"extensions in binary types array\"","\".png\"","\"image/png\"","\"makeResolver\"","\"CONTEXT (specified)\"","resolutionMode","\"CONTEXT\"","\"success\"","\"CALLBACK\"","callback","e","callbackResolver","\"PROMISE\"","promise","promiseResolver"]},"operators":{"distinct":13,"total":606,"identifiers":["const","=","()","{}",".",":","function=>","[]",",","function","return","delete (prefix)","new"]}},"paramCount":39,"sloc":{"logical":403,"physical":347}},"settings":{"commonjs":false,"esmImportExport":{"halstead":false,"lloc":false},"forin":false,"logicalor":true,"switchcase":true,"templateExpression":{"halstead":true,"lloc":true},"trycatch":false,"newmi":false},"classes":[],"dependencies":[],"errors":[],"lineEnd":347,"lineStart":1,"maintainability":107.176,"methods":[{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.03,"difficulty":4.5,"effort":411.194,"length":24,"time":22.844,"vocabulary":14,"volume":91.377,"operands":{"distinct":8,"total":12,"identifiers":["event","path","\"/foo/bar\"","pathWithQueryStringParams","serverlessExpressEventSourcesUtils","getPathWithQueryStringParams","expect","toEqual"]},"operators":{"distinct":6,"total":12,"identifiers":["const","=","{}",":","()","."]}},"paramCount":0,"sloc":{"logical":7,"physical":7},"errors":[],"lineEnd":17,"lineStart":11,"name":"<anon method-1>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.042,"difficulty":3.75,"effort":469.117,"length":30,"time":26.062,"vocabulary":18,"volume":125.098,"operands":{"distinct":12,"total":15,"identifiers":["event","path","\"/foo/bar\"","multiValueQueryStringParameters","bizz","\"bazz\"","pathWithQueryStringParams","serverlessExpressEventSourcesUtils","getPathWithQueryStringParams","expect","toEqual","\"/foo/bar?bizz=bazz\""]},"operators":{"distinct":6,"total":15,"identifiers":["const","=","{}",":","()","."]}},"paramCount":0,"sloc":{"logical":9,"physical":10},"errors":[],"lineEnd":28,"lineStart":19,"name":"<anon method-2>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.042,"difficulty":3.75,"effort":469.117,"length":30,"time":26.062,"vocabulary":18,"volume":125.098,"operands":{"distinct":12,"total":15,"identifiers":["event","path","\"/foo/bar\"","multiValueQueryStringParameters","redirect_uri","\"http://lvh.me:3000/cb\"","pathWithQueryStringParams","serverlessExpressEventSourcesUtils","getPathWithQueryStringParams","expect","toEqual","\"/foo/bar?redirect_uri=http%3A%2F%2Flvh.me%3A3000%2Fcb\""]},"operators":{"distinct":6,"total":15,"identifiers":["const","=","{}",":","()","."]}},"paramCount":0,"sloc":{"logical":9,"physical":10},"errors":[],"lineEnd":39,"lineStart":30,"name":"<anon method-3>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":10,"halstead":{"bugs":0.048,"difficulty":3.643,"effort":519.557,"length":33,"time":28.864,"vocabulary":20,"volume":142.624,"operands":{"distinct":14,"total":17,"identifiers":["event","path","\"/foo/bar\"","multiValueQueryStringParameters","bizz","\"bazz\"","buzz","\"bozz\"","pathWithQueryStringParams","serverlessExpressEventSourcesUtils","getPathWithQueryStringParams","expect","toEqual","\"/foo/bar?bizz=bazz&buzz=bozz\""]},"operators":{"distinct":6,"total":16,"identifiers":["const","=","{}",":","()","."]}},"paramCount":0,"sloc":{"logical":10,"physical":11},"errors":[],"lineEnd":51,"lineStart":41,"name":"<anon method-4>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.048,"difficulty":4.923,"effort":713.583,"length":33,"time":39.643,"vocabulary":21,"volume":144.946,"operands":{"distinct":13,"total":16,"identifiers":["event","path","\"/foo/bar\"","multiValueQueryStringParameters","bizz","\"bazz\"","\"buzz\"","pathWithQueryStringParams","serverlessExpressEventSourcesUtils","getPathWithQueryStringParams","expect","toEqual","\"/foo/bar?bizz=bazz&bizz=buzz\""]},"operators":{"distinct":8,"total":17,"identifiers":["const","=","{}",":","[]",",","()","."]}},"paramCount":0,"sloc":{"logical":9,"physical":13},"errors":[],"lineEnd":65,"lineStart":53,"name":"<anon method-5>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.068,"difficulty":4.472,"effort":913.808,"length":44,"time":50.767,"vocabulary":25,"volume":204.33,"operands":{"distinct":18,"total":23,"identifiers":["event","path","\"/foo\"","httpMethod","\"GET\"","body","\"Hello serverless!\"","multiValueHeaders","requestContext","identity","sourceIp","\"132.33.134.75\"","requestValues","apiGatewayEventSource","getRequest","requestResponse","serverlessExpressTransport","getRequestResponse"]},"operators":{"distinct":7,"total":21,"identifiers":["const","=","{}",":","()",".","return"]}},"paramCount":1,"sloc":{"logical":14,"physical":17},"errors":[],"lineEnd":83,"lineStart":67,"name":"getReqRes","paramNames":["multiValueHeaders"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":4.762,"halstead":{"bugs":0.131,"difficulty":8.6,"effort":3390.147,"length":82,"time":188.341,"vocabulary":28,"volume":394.203,"operands":{"distinct":20,"total":43,"identifiers":["request","getReqRes","\"x-foo\"","\"foo\"","expect","toBeInstanceOf","ServerlessRequest","body","Buffer","toString","\"utf-8\"","toEqual","\"Hello serverless!\"","method","\"GET\"","url","\"/foo\"","headers","\"content-length\"","byteLength"]},"operators":{"distinct":8,"total":39,"identifiers":["const","=","{}","()",":","[]",".","delete (prefix)"]}},"paramCount":0,"sloc":{"logical":21,"physical":13},"errors":[],"lineEnd":97,"lineStart":85,"name":"<anon method-6>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":5.556,"halstead":{"bugs":0.135,"difficulty":8.289,"effort":3350.919,"length":86,"time":186.162,"vocabulary":26,"volume":404.238,"operands":{"distinct":19,"total":45,"identifiers":["requestResponse","getReqRes","expect","request","toBeInstanceOf","ServerlessRequest","body","Buffer","toString","\"utf-8\"","toEqual","\"Hello serverless!\"","method","\"GET\"","url","\"/foo\"","headers","\"content-length\"","byteLength"]},"operators":{"distinct":7,"total":41,"identifiers":["const","=","()",".","delete (prefix)","{}",":"]}},"paramCount":0,"sloc":{"logical":18,"physical":12},"errors":[],"lineEnd":110,"lineStart":99,"name":"<anon method-7>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.006,"difficulty":1.333,"effort":24.767,"length":8,"time":1.376,"vocabulary":5,"volume":18.575,"operands":{"distinct":3,"total":4,"identifiers":["test","\"responds with 500 status\"","\"responds with 500 status and stack trace\""]},"operators":{"distinct":2,"total":4,"identifiers":["()","function=>"]}},"paramCount":0,"sloc":{"logical":4,"physical":52},"errors":[],"lineEnd":163,"lineStart":112,"name":"<anon method-8>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.012,"difficulty":2.5,"effort":91.353,"length":11,"time":5.075,"vocabulary":10,"volume":36.541,"operands":{"distinct":5,"total":5,"identifiers":["Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":5,"total":6,"identifiers":["return","()",".","new","function=>"]}},"paramCount":0,"sloc":{"logical":4,"physical":23},"errors":[],"lineEnd":135,"lineStart":113,"name":"<anon method-9>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.063,"difficulty":4.632,"effort":880.905,"length":40,"time":48.939,"vocabulary":27,"volume":190.196,"operands":{"distinct":19,"total":22,"identifiers":["context","MockContext","resolve","reject","contextResolver","succeed","p","fail","serverlessExpressTransport","respondToEventSourceWithError","error","Error","\"ERROR\"","resolver","log","eventSourceName","\"AWS_API_GATEWAY_V1\"","eventSource","apiGatewayEventSource"]},"operators":{"distinct":8,"total":18,"identifiers":["const","=","new","{}",":","function=>","()","."]}},"paramCount":2,"sloc":{"logical":12,"physical":14},"errors":[],"lineEnd":128,"lineStart":115,"name":"<anon method-10>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["context","succeed","p","response"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":118,"lineStart":118,"name":"<anon method-11>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["context","fail","p","error"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":119,"lineStart":119,"name":"<anon method-12>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.024,"difficulty":2,"effort":144.679,"length":19,"time":8.038,"vocabulary":14,"volume":72.34,"operands":{"distinct":10,"total":10,"identifiers":["expect","successResponse","toEqual","statusCode","500","body","\"\"","multiValueHeaders","isBase64Encoded","false"]},"operators":{"distinct":4,"total":9,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":134,"lineStart":129,"name":"<anon method-13>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.012,"difficulty":2.5,"effort":91.353,"length":11,"time":5.075,"vocabulary":10,"volume":36.541,"operands":{"distinct":5,"total":5,"identifiers":["Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":5,"total":6,"identifiers":["return","()",".","new","function=>"]}},"paramCount":0,"sloc":{"logical":4,"physical":27},"errors":[],"lineEnd":162,"lineStart":136,"name":"<anon method-14>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.07,"difficulty":4.571,"effort":954.94,"length":43,"time":53.052,"vocabulary":29,"volume":208.893,"operands":{"distinct":21,"total":24,"identifiers":["context","MockContext","resolve","reject","contextResolver","succeed","p","fail","serverlessExpressTransport","respondToEventSourceWithError","error","Error","\"There was an error...\"","resolver","log","respondWithErrors","true","eventSourceName","\"AWS_API_GATEWAY_V1\"","eventSource","apiGatewayEventSource"]},"operators":{"distinct":8,"total":19,"identifiers":["const","=","new","{}",":","function=>","()","."]}},"paramCount":2,"sloc":{"logical":13,"physical":15},"errors":[],"lineEnd":152,"lineStart":138,"name":"<anon method-15>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["context","succeed","p","response"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":141,"lineStart":141,"name":"<anon method-16>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["context","fail","p","error"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":142,"lineStart":142,"name":"<anon method-17>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.039,"difficulty":2.909,"effort":340.965,"length":30,"time":18.942,"vocabulary":15,"volume":117.207,"operands":{"distinct":11,"total":16,"identifiers":["expect","successResponse","toEqual","statusCode","500","body","multiValueHeaders","isBase64Encoded","false","toContain","\"Error: There was an error...\n    at \""]},"operators":{"distinct":4,"total":14,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":8,"physical":9},"errors":[],"lineEnd":161,"lineStart":153,"name":"<anon method-18>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.027,"difficulty":4.375,"effort":358.946,"length":21,"time":19.941,"vocabulary":15,"volume":82.045,"operands":{"distinct":8,"total":10,"identifiers":["context","MockContext","resolve","reject","contextResolver","succeed","p","fail"]},"operators":{"distinct":7,"total":11,"identifiers":["const","=","new","{}",":","function=>","return"]}},"paramCount":2,"sloc":{"logical":7,"physical":9},"errors":[],"lineEnd":173,"lineStart":165,"name":"getContextResolver","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["context","succeed","p","response"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":168,"lineStart":168,"name":"<anon method-19>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["context","fail","p","error"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":169,"lineStart":169,"name":"<anon method-20>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":10,"halstead":{"bugs":0.022,"difficulty":1.571,"effort":104.608,"length":21,"time":5.812,"vocabulary":9,"volume":66.568,"operands":{"distinct":7,"total":11,"identifiers":["test","\"content-type header missing\"","done","\"content-type image/jpeg base64 encoded\"","\"content-type application/json\"","\"wildcards in binary types array\"","\"extensions in binary types array\""]},"operators":{"distinct":2,"total":10,"identifiers":["()","function=>"]}},"paramCount":0,"sloc":{"logical":10,"physical":122},"errors":[],"lineEnd":296,"lineStart":175,"name":"<anon method-21>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.066,"difficulty":6.429,"effort":1267.415,"length":43,"time":70.412,"vocabulary":24,"volume":197.153,"operands":{"distinct":14,"total":18,"identifiers":["binaryMimeTypes","multiValueHeaders","foo","\"bar\"","requestResponse","getReqRes","response","ServerlessResponse","request","Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":10,"total":25,"identifiers":["const","=","[]","{}",":","()","new",".","return","function=>"]}},"paramCount":1,"sloc":{"logical":13,"physical":24},"errors":[],"lineEnd":199,"lineStart":176,"name":"<anon method-22>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.033,"difficulty":4,"effort":400.313,"length":24,"time":22.24,"vocabulary":18,"volume":100.078,"operands":{"distinct":12,"total":16,"identifiers":["contextResolver","getContextResolver","resolve","reject","serverlessExpressTransport","forwardResponse","binaryMimeTypes","response","resolver","eventSource","apiGatewayEventSource","log"]},"operators":{"distinct":6,"total":8,"identifiers":["const","=","()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":8,"physical":10},"errors":[],"lineEnd":191,"lineStart":182,"name":"<anon method-23>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.023,"difficulty":2.2,"effort":150.771,"length":18,"time":8.376,"vocabulary":14,"volume":68.532,"operands":{"distinct":10,"total":11,"identifiers":["expect","successResponse","toEqual","statusCode","200","body","\"Hello serverless!\"","multiValueHeaders","isBase64Encoded","false"]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":197,"lineStart":192,"name":"<anon method-24>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.001,"difficulty":0.5,"effort":1,"length":2,"time":0.056,"vocabulary":2,"volume":2,"operands":{"distinct":1,"total":1,"identifiers":["done"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":0,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":198,"lineStart":198,"name":"<anon method-25>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.055,"difficulty":6.071,"effort":1002.142,"length":36,"time":55.675,"vocabulary":24,"volume":165.059,"operands":{"distinct":14,"total":17,"identifiers":["binaryMimeTypes","\"image/jpeg\"","multiValueHeaders","\"content-type\"","body","\"hello world\"","response","ServerlessResponse","200","Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":10,"total":19,"identifiers":["const","=","[]","{}",":","new","return","()",".","function=>"]}},"paramCount":0,"sloc":{"logical":9,"physical":23},"errors":[],"lineEnd":223,"lineStart":201,"name":"<anon method-26>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.033,"difficulty":4,"effort":400.313,"length":24,"time":22.24,"vocabulary":18,"volume":100.078,"operands":{"distinct":12,"total":16,"identifiers":["contextResolver","getContextResolver","resolve","reject","serverlessExpressTransport","forwardResponse","binaryMimeTypes","response","resolver","eventSource","apiGatewayEventSource","log"]},"operators":{"distinct":6,"total":8,"identifiers":["const","=","()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":8,"physical":10},"errors":[],"lineEnd":216,"lineStart":207,"name":"<anon method-27>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.035,"difficulty":2.308,"effort":245.248,"length":26,"time":13.625,"vocabulary":17,"volume":106.274,"operands":{"distinct":13,"total":15,"identifiers":["expect","successResponse","toEqual","statusCode","200","body","Buffer","from","toString","\"base64\"","multiValueHeaders","isBase64Encoded","true"]},"operators":{"distinct":4,"total":11,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":9,"physical":6},"errors":[],"lineEnd":222,"lineStart":217,"name":"<anon method-28>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.067,"difficulty":5.588,"effort":1116,"length":42,"time":62,"vocabulary":27,"volume":199.705,"operands":{"distinct":17,"total":19,"identifiers":["binaryMimeTypes","multiValueHeaders","\"content-type\"","\"application/json\"","body","JSON","stringify","hello","\"world\"","response","ServerlessResponse","200","Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":10,"total":23,"identifiers":["const","=","[]","{}",":","()",".","new","return","function=>"]}},"paramCount":0,"sloc":{"logical":11,"physical":23},"errors":[],"lineEnd":247,"lineStart":225,"name":"<anon method-29>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.033,"difficulty":4,"effort":400.313,"length":24,"time":22.24,"vocabulary":18,"volume":100.078,"operands":{"distinct":12,"total":16,"identifiers":["contextResolver","getContextResolver","resolve","reject","serverlessExpressTransport","forwardResponse","binaryMimeTypes","response","resolver","eventSource","apiGatewayEventSource","log"]},"operators":{"distinct":6,"total":8,"identifiers":["const","=","()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":8,"physical":10},"errors":[],"lineEnd":240,"lineStart":231,"name":"<anon method-30>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.022,"difficulty":2.444,"effort":162.819,"length":18,"time":9.046,"vocabulary":13,"volume":66.608,"operands":{"distinct":9,"total":11,"identifiers":["expect","successResponse","toEqual","statusCode","200","body","multiValueHeaders","isBase64Encoded","false"]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":246,"lineStart":241,"name":"<anon method-31>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.056,"difficulty":5.667,"effort":947.347,"length":36,"time":52.63,"vocabulary":25,"volume":167.179,"operands":{"distinct":15,"total":17,"identifiers":["binaryMimeTypes","\"image/*\"","multiValueHeaders","\"content-type\"","\"image/jpeg\"","body","\"hello world\"","response","ServerlessResponse","200","Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":10,"total":19,"identifiers":["const","=","[]","{}",":","new","return","()",".","function=>"]}},"paramCount":0,"sloc":{"logical":9,"physical":23},"errors":[],"lineEnd":271,"lineStart":249,"name":"<anon method-32>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.033,"difficulty":4,"effort":400.313,"length":24,"time":22.24,"vocabulary":18,"volume":100.078,"operands":{"distinct":12,"total":16,"identifiers":["contextResolver","getContextResolver","resolve","reject","serverlessExpressTransport","forwardResponse","binaryMimeTypes","response","resolver","eventSource","apiGatewayEventSource","log"]},"operators":{"distinct":6,"total":8,"identifiers":["const","=","()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":8,"physical":10},"errors":[],"lineEnd":264,"lineStart":255,"name":"<anon method-33>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.035,"difficulty":2.308,"effort":245.248,"length":26,"time":13.625,"vocabulary":17,"volume":106.274,"operands":{"distinct":13,"total":15,"identifiers":["expect","successResponse","toEqual","statusCode","200","body","Buffer","from","toString","\"base64\"","multiValueHeaders","isBase64Encoded","true"]},"operators":{"distinct":4,"total":11,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":9,"physical":6},"errors":[],"lineEnd":270,"lineStart":265,"name":"<anon method-34>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.056,"difficulty":5.667,"effort":947.347,"length":36,"time":52.63,"vocabulary":25,"volume":167.179,"operands":{"distinct":15,"total":17,"identifiers":["binaryMimeTypes","\".png\"","multiValueHeaders","\"content-type\"","\"image/png\"","body","\"hello world\"","response","ServerlessResponse","200","Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":10,"total":19,"identifiers":["const","=","[]","{}",":","new","return","()",".","function=>"]}},"paramCount":0,"sloc":{"logical":9,"physical":23},"errors":[],"lineEnd":295,"lineStart":273,"name":"<anon method-35>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.033,"difficulty":4,"effort":400.313,"length":24,"time":22.24,"vocabulary":18,"volume":100.078,"operands":{"distinct":12,"total":16,"identifiers":["contextResolver","getContextResolver","resolve","reject","serverlessExpressTransport","forwardResponse","binaryMimeTypes","response","resolver","eventSource","apiGatewayEventSource","log"]},"operators":{"distinct":6,"total":8,"identifiers":["const","=","()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":8,"physical":10},"errors":[],"lineEnd":288,"lineStart":279,"name":"<anon method-36>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.035,"difficulty":2.308,"effort":245.248,"length":26,"time":13.625,"vocabulary":17,"volume":106.274,"operands":{"distinct":13,"total":15,"identifiers":["expect","successResponse","toEqual","statusCode","200","body","Buffer","from","toString","\"base64\"","multiValueHeaders","isBase64Encoded","true"]},"operators":{"distinct":4,"total":11,"identifiers":["()",".","{}",":"]}},"paramCount":1,"sloc":{"logical":9,"physical":6},"errors":[],"lineEnd":294,"lineStart":289,"name":"<anon method-37>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.01,"difficulty":1.5,"effort":46.529,"length":12,"time":2.585,"vocabulary":6,"volume":31.02,"operands":{"distinct":4,"total":6,"identifiers":["test","\"CONTEXT (specified)\"","\"CALLBACK\"","\"PROMISE\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function=>"]}},"paramCount":0,"sloc":{"logical":6,"physical":49},"errors":[],"lineEnd":346,"lineStart":298,"name":"<anon method-38>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.012,"difficulty":2.5,"effort":91.353,"length":11,"time":5.075,"vocabulary":10,"volume":36.541,"operands":{"distinct":5,"total":5,"identifiers":["Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":5,"total":6,"identifiers":["return","()",".","new","function=>"]}},"paramCount":0,"sloc":{"logical":4,"physical":14},"errors":[],"lineEnd":312,"lineStart":299,"name":"<anon method-39>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.038,"difficulty":5.091,"effort":583.897,"length":27,"time":32.439,"vocabulary":19,"volume":114.694,"operands":{"distinct":11,"total":14,"identifiers":["context","MockContext","resolve","reject","contextResolver","makeResolver","resolutionMode","\"CONTEXT\"","succeed","response","\"success\""]},"operators":{"distinct":8,"total":13,"identifiers":["const","=","new","()","{}",":","return","."]}},"paramCount":2,"sloc":{"logical":8,"physical":11},"errors":[],"lineEnd":311,"lineStart":301,"name":"<anon method-40>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["expect","successResponse","toEqual","\"success\""]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":3,"physical":1},"errors":[],"lineEnd":311,"lineStart":311,"name":"<anon method-41>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.055,"difficulty":5.115,"effort":840.116,"length":38,"time":46.673,"vocabulary":20,"volume":164.233,"operands":{"distinct":13,"total":19,"identifiers":["callback","e","response","callbackResolver","makeResolver","resolutionMode","\"CALLBACK\"","context","successResponse","succeed","\"success\"","expect","toEqual"]},"operators":{"distinct":7,"total":19,"identifiers":["const","=","function=>","()","{}",":","."]}},"paramCount":0,"sloc":{"logical":12,"physical":13},"errors":[],"lineEnd":326,"lineStart":314,"name":"<anon method-42>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":1,"time":0,"vocabulary":1,"volume":0,"operands":{"distinct":1,"total":1,"identifiers":["response"]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":2,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":315,"lineStart":315,"name":"<anon method-43>","paramNames":["e","response"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.012,"difficulty":2.5,"effort":91.353,"length":11,"time":5.075,"vocabulary":10,"volume":36.541,"operands":{"distinct":5,"total":5,"identifiers":["Promise","resolve","reject","then","successResponse"]},"operators":{"distinct":5,"total":6,"identifiers":["return","()",".","new","function=>"]}},"paramCount":0,"sloc":{"logical":4,"physical":18},"errors":[],"lineEnd":345,"lineStart":328,"name":"<anon method-44>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":10,"halstead":{"bugs":0.038,"difficulty":5.25,"effort":600.857,"length":28,"time":33.381,"vocabulary":17,"volume":114.449,"operands":{"distinct":10,"total":15,"identifiers":["promise","resolve","reject","promiseResolver","makeResolver","resolutionMode","\"PROMISE\"","succeed","response","\"success\""]},"operators":{"distinct":7,"total":13,"identifiers":["const","=","{}","()",":","return","."]}},"paramCount":2,"sloc":{"logical":10,"physical":14},"errors":[],"lineEnd":342,"lineStart":329,"name":"<anon method-45>","paramNames":["resolve","reject"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["expect","successResponse","toEqual","\"success\""]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":344,"lineStart":342,"name":"<anon method-46>","paramNames":["successResponse"],"maxNestedMethodDepth":0,"nestedMethods":[]}],"aggregateAverage":{"cyclomatic":1,"cyclomaticDensity":0.248,"halstead":{"bugs":0.064,"difficulty":0.627,"effort":5889.564,"length":26.265,"time":327.198,"vocabulary":3.204,"volume":191.595,"operands":{"distinct":2.939,"total":13.898},"operators":{"distinct":0.265,"total":12.367}},"paramCount":0.796,"sloc":{"logical":8.224,"physical":7.082}},"methodAverage":{"cyclomatic":1,"cyclomaticDensity":21.303,"halstead":{"bugs":0.034,"difficulty":3.328,"effort":499.187,"length":24.563,"time":27.733,"vocabulary":15.208,"volume":103.243,"operands":{"distinct":10,"total":13.042},"operators":{"distinct":5.208,"total":11.521}},"paramCount":0.813,"sloc":{"logical":7.542,"physical":14.521}}}},{"path":"/home/gabriel/Desktop/research/projects/serverless-express/__tests__/integration.js","testCases":20,"smells":48,"smellInfo":[{"name":"Conditional Test Logic","packageName":"conditionalTestLogic","items":[{"frame":"  265 |     const etagRegex = /^W\\/.*$/\n  266 |     const lastModifiedRegex = /^.* GMT$/\n> 267 |     switch (eventSourceName) {\n      |    ^ Conditional Test Logic\n  268 |       case 'alb':\n  269 |       case 'apiGatewayV1':\n  270 |         expect(response.multiValueHeaders.etag.length).toEqual(1)","start":{"line":267,"column":4,"index":8183}},{"frame":"  471 |     jest.useRealTimers()\n  472 |\n> 473 |     switch (eventSourceName) {\n      |    ^ Conditional Test Logic\n  474 |       case 'azureHttpFunctionV4':\n  475 |       case 'azureHttpFunctionV3':\n  476 |         expectedResponse.cookies = [","start":{"line":473,"column":4,"index":14728}},{"frame":"  515 |       ]\n  516 |\n> 517 |       for (const method of mockMethods) { mocks.push(jest.spyOn(global.console, method).mockImplementation()) }\n      |      ^ Conditional Test Logic\n  518 |     })\n  519 |\n  520 |     afterEach(() => {","start":{"line":517,"column":6,"index":15686}},{"frame":"  519 |\n  520 |     afterEach(() => {\n> 521 |       for (const mock of mocks) mock.mockRestore()\n      |      ^ Conditional Test Logic\n  522 |     })\n  523 |\n  524 |     test('custom logger', async () => {","start":{"line":521,"column":6,"index":15828}}]},{"name":"Duplicate Assert","packageName":"duplicateAssert","items":[{"frame":"  279 |         expectedResponse.body = Buffer.from(samLogoBase64, 'base64')\n  280 |         expectedResponse.isBase64Encoded = false\n> 281 |         expect(response.headers.etag).toMatch(etagRegex)\n      |        ^ Duplicate Assert\n  282 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n  283 |         delete response.headers.etag\n  284 |         delete response.headers['last-modified']","start":{"line":281,"column":8,"index":8873}},{"frame":"  279 |         expectedResponse.body = Buffer.from(samLogoBase64, 'base64')\n  280 |         expectedResponse.isBase64Encoded = false\n> 281 |         expect(response.headers.etag).toMatch(etagRegex)\n      |        ^ Duplicate Assert\n  282 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n  283 |         delete response.headers.etag\n  284 |         delete response.headers['last-modified']","start":{"line":281,"column":8,"index":8873}},{"frame":"  280 |         expectedResponse.isBase64Encoded = false\n  281 |         expect(response.headers.etag).toMatch(etagRegex)\n> 282 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n      |        ^ Duplicate Assert\n  283 |         delete response.headers.etag\n  284 |         delete response.headers['last-modified']\n  285 |         break","start":{"line":282,"column":8,"index":8930}},{"frame":"  280 |         expectedResponse.isBase64Encoded = false\n  281 |         expect(response.headers.etag).toMatch(etagRegex)\n> 282 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n      |        ^ Duplicate Assert\n  283 |         delete response.headers.etag\n  284 |         delete response.headers['last-modified']\n  285 |         break","start":{"line":282,"column":8,"index":8930}},{"frame":"  285 |         break\n  286 |       case 'apiGatewayV2':\n> 287 |         expect(response.headers.etag).toMatch(etagRegex)\n      |        ^ Duplicate Assert\n  288 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n  289 |         delete response.headers.etag\n  290 |         delete response.headers['last-modified']","start":{"line":287,"column":8,"index":9134}},{"frame":"  285 |         break\n  286 |       case 'apiGatewayV2':\n> 287 |         expect(response.headers.etag).toMatch(etagRegex)\n      |        ^ Duplicate Assert\n  288 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n  289 |         delete response.headers.etag\n  290 |         delete response.headers['last-modified']","start":{"line":287,"column":8,"index":9134}},{"frame":"  286 |       case 'apiGatewayV2':\n  287 |         expect(response.headers.etag).toMatch(etagRegex)\n> 288 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n      |        ^ Duplicate Assert\n  289 |         delete response.headers.etag\n  290 |         delete response.headers['last-modified']\n  291 |         break","start":{"line":288,"column":8,"index":9191}},{"frame":"  286 |       case 'apiGatewayV2':\n  287 |         expect(response.headers.etag).toMatch(etagRegex)\n> 288 |         expect(response.headers['last-modified']).toMatch(lastModifiedRegex)\n      |        ^ Duplicate Assert\n  289 |         delete response.headers.etag\n  290 |         delete response.headers['last-modified']\n  291 |         break","start":{"line":288,"column":8,"index":9191}},{"frame":"  565 |       loggerError.debug('nocall')\n  566 |       loggerError.verbose('nocall')\n> 567 |       expect(global.console.warn).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  568 |       expect(global.console.debug).not.toHaveBeenCalled()\n  569 |       expect(global.console.info).not.toHaveBeenCalled()\n  570 |       expect(global.console.error).toHaveBeenLastCalledWith({","start":{"line":567,"column":6,"index":17214}},{"frame":"  566 |       loggerError.verbose('nocall')\n  567 |       expect(global.console.warn).not.toHaveBeenCalled()\n> 568 |       expect(global.console.debug).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  569 |       expect(global.console.info).not.toHaveBeenCalled()\n  570 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  571 |         message: 'error'","start":{"line":568,"column":6,"index":17271}},{"frame":"  566 |       loggerError.verbose('nocall')\n  567 |       expect(global.console.warn).not.toHaveBeenCalled()\n> 568 |       expect(global.console.debug).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  569 |       expect(global.console.info).not.toHaveBeenCalled()\n  570 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  571 |         message: 'error'","start":{"line":568,"column":6,"index":17271}},{"frame":"  567 |       expect(global.console.warn).not.toHaveBeenCalled()\n  568 |       expect(global.console.debug).not.toHaveBeenCalled()\n> 569 |       expect(global.console.info).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  570 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  571 |         message: 'error'\n  572 |       })","start":{"line":569,"column":6,"index":17329}},{"frame":"  567 |       expect(global.console.warn).not.toHaveBeenCalled()\n  568 |       expect(global.console.debug).not.toHaveBeenCalled()\n> 569 |       expect(global.console.info).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  570 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  571 |         message: 'error'\n  572 |       })","start":{"line":569,"column":6,"index":17329}},{"frame":"  568 |       expect(global.console.debug).not.toHaveBeenCalled()\n  569 |       expect(global.console.info).not.toHaveBeenCalled()\n> 570 |       expect(global.console.error).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  571 |         message: 'error'\n  572 |       })\n  573 |","start":{"line":570,"column":6,"index":17386}},{"frame":"  579 |       loggerWarn.debug('nocall')\n  580 |       loggerWarn.verbose('nocall')\n> 581 |       expect(global.console.debug).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  582 |       expect(global.console.info).not.toHaveBeenCalled()\n  583 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  584 |         message: 'error2'","start":{"line":581,"column":6,"index":17716}},{"frame":"  579 |       loggerWarn.debug('nocall')\n  580 |       loggerWarn.verbose('nocall')\n> 581 |       expect(global.console.debug).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  582 |       expect(global.console.info).not.toHaveBeenCalled()\n  583 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  584 |         message: 'error2'","start":{"line":581,"column":6,"index":17716}},{"frame":"  580 |       loggerWarn.verbose('nocall')\n  581 |       expect(global.console.debug).not.toHaveBeenCalled()\n> 582 |       expect(global.console.info).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  583 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  584 |         message: 'error2'\n  585 |       })","start":{"line":582,"column":6,"index":17774}},{"frame":"  580 |       loggerWarn.verbose('nocall')\n  581 |       expect(global.console.debug).not.toHaveBeenCalled()\n> 582 |       expect(global.console.info).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  583 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  584 |         message: 'error2'\n  585 |       })","start":{"line":582,"column":6,"index":17774}},{"frame":"  581 |       expect(global.console.debug).not.toHaveBeenCalled()\n  582 |       expect(global.console.info).not.toHaveBeenCalled()\n> 583 |       expect(global.console.error).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  584 |         message: 'error2'\n  585 |       })\n  586 |       expect(global.console.warn).toHaveBeenLastCalledWith({","start":{"line":583,"column":6,"index":17831}},{"frame":"  584 |         message: 'error2'\n  585 |       })\n> 586 |       expect(global.console.warn).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  587 |         message: 'warn2'\n  588 |       })\n  589 |","start":{"line":586,"column":6,"index":17928}},{"frame":"  595 |       loggerInfo.debug('nocall')\n  596 |       loggerInfo.verbose('nocall')\n> 597 |       expect(global.console.debug).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  598 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  599 |         message: 'error3'\n  600 |       })","start":{"line":597,"column":6,"index":18256}},{"frame":"  595 |       loggerInfo.debug('nocall')\n  596 |       loggerInfo.verbose('nocall')\n> 597 |       expect(global.console.debug).not.toHaveBeenCalled()\n      |      ^ Duplicate Assert\n  598 |       expect(global.console.error).toHaveBeenLastCalledWith({\n  599 |         message: 'error3'\n  600 |       })","start":{"line":597,"column":6,"index":18256}},{"frame":"  596 |       loggerInfo.verbose('nocall')\n  597 |       expect(global.console.debug).not.toHaveBeenCalled()\n> 598 |       expect(global.console.error).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  599 |         message: 'error3'\n  600 |       })\n  601 |       expect(global.console.warn).toHaveBeenLastCalledWith({","start":{"line":598,"column":6,"index":18314}},{"frame":"  599 |         message: 'error3'\n  600 |       })\n> 601 |       expect(global.console.warn).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  602 |         message: 'warn3'\n  603 |       })\n  604 |       expect(global.console.info).toHaveBeenLastCalledWith({","start":{"line":601,"column":6,"index":18411}},{"frame":"  602 |         message: 'warn3'\n  603 |       })\n> 604 |       expect(global.console.info).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  605 |         message: 'info3'\n  606 |       })\n  607 |","start":{"line":604,"column":6,"index":18506}},{"frame":"  613 |       loggerVerbose.verbose('verbose4')\n  614 |       loggerVerbose.debug('nocall')\n> 615 |       expect(global.console.error).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  616 |         message: 'error4'\n  617 |       })\n  618 |       expect(global.console.warn).toHaveBeenLastCalledWith({","start":{"line":615,"column":6,"index":18857}},{"frame":"  616 |         message: 'error4'\n  617 |       })\n> 618 |       expect(global.console.warn).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  619 |         message: 'warn4'\n  620 |       })\n  621 |       expect(global.console.info).toHaveBeenLastCalledWith({","start":{"line":618,"column":6,"index":18954}},{"frame":"  619 |         message: 'warn4'\n  620 |       })\n> 621 |       expect(global.console.info).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  622 |         message: 'info4'\n  623 |       })\n  624 |       expect(global.console.debug).toHaveBeenLastCalledWith({","start":{"line":621,"column":6,"index":19049}},{"frame":"  622 |         message: 'info4'\n  623 |       })\n> 624 |       expect(global.console.debug).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  625 |         message: 'verbose4'\n  626 |       })\n  627 |","start":{"line":624,"column":6,"index":19144}},{"frame":"  633 |       loggerDebug.verbose('verbose5')\n  634 |       loggerDebug.debug('debug5')\n> 635 |       expect(global.console.error).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  636 |         message: 'error5'\n  637 |       })\n  638 |       expect(global.console.warn).toHaveBeenLastCalledWith({","start":{"line":635,"column":6,"index":19485}},{"frame":"  636 |         message: 'error5'\n  637 |       })\n> 638 |       expect(global.console.warn).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  639 |         message: 'warn5'\n  640 |       })\n  641 |       expect(global.console.info).toHaveBeenLastCalledWith({","start":{"line":638,"column":6,"index":19582}},{"frame":"  639 |         message: 'warn5'\n  640 |       })\n> 641 |       expect(global.console.info).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  642 |         message: 'info5'\n  643 |       })\n  644 |       expect(global.console.debug).toHaveBeenLastCalledWith({","start":{"line":641,"column":6,"index":19677}},{"frame":"  642 |         message: 'info5'\n  643 |       })\n> 644 |       expect(global.console.debug).toHaveBeenLastCalledWith({\n      |      ^ Duplicate Assert\n  645 |         message: 'debug5'\n  646 |       })\n  647 |     })","start":{"line":644,"column":6,"index":19772}},{"frame":"  655 |       logger.debug('array', ['message'])\n  656 |\n> 657 |       expect(global.console.debug).toHaveBeenNthCalledWith(\n      |      ^ Duplicate Assert\n  658 |         1,\n  659 |         {\n  660 |           message: 'simple message'","start":{"line":657,"column":6,"index":20156}},{"frame":"  661 |         }\n  662 |       )\n> 663 |       expect(global.console.debug).toHaveBeenNthCalledWith(\n      |      ^ Duplicate Assert\n  664 |         2,\n  665 |         {\n  666 |           message: 'debug',","start":{"line":663,"column":6,"index":20291}},{"frame":"  669 |         }\n  670 |       )\n> 671 |       expect(global.console.debug).toHaveBeenNthCalledWith(\n      |      ^ Duplicate Assert\n  672 |         3,\n  673 |         {\n  674 |           message: 'debug'","start":{"line":671,"column":6,"index":20462}},{"frame":"  675 |         }\n  676 |       )\n> 677 |       expect(global.console.debug).toHaveBeenNthCalledWith(\n      |      ^ Duplicate Assert\n  678 |         4,\n  679 |         {\n  680 |           message: 'array',","start":{"line":677,"column":6,"index":20588}}]},{"name":"Ignored Test","packageName":"ignoredTest","items":[{"frame":"  421 |   })\n  422 |\n> 423 |   test.skip('respondToEventSourceWithError', async () => {\n      |       ^ Ignored Test\n  424 |     const response = await serverlessExpressInstance(null)\n  425 |     expect(response).toEqual({\n  426 |       statusCode: 500,","start":{"line":423,"column":7,"index":13127}}]},{"name":"Magic Number","packageName":"magicNumberRule","items":[{"frame":"  268 |       case 'alb':\n  269 |       case 'apiGatewayV1':\n> 270 |         expect(response.multiValueHeaders.etag.length).toEqual(1)\n      |                                                               ^ Magic Number\n  271 |         expect(response.multiValueHeaders.etag[0]).toMatch(etagRegex)\n  272 |         expect(response.multiValueHeaders['last-modified'].length).toEqual(1)\n  273 |         expect(response.multiValueHeaders['last-modified'][0]).toMatch(lastModifiedRegex)","start":{"line":270,"column":63,"index":8318}},{"frame":"  270 |         expect(response.multiValueHeaders.etag.length).toEqual(1)\n  271 |         expect(response.multiValueHeaders.etag[0]).toMatch(etagRegex)\n> 272 |         expect(response.multiValueHeaders['last-modified'].length).toEqual(1)\n      |                                                                           ^ Magic Number\n  273 |         expect(response.multiValueHeaders['last-modified'][0]).toMatch(lastModifiedRegex)\n  274 |         delete response.multiValueHeaders.etag\n  275 |         delete response.multiValueHeaders['last-modified']","start":{"line":272,"column":75,"index":8466}},{"frame":"  291 |         break\n  292 |       case 'lambdaEdge':\n> 293 |         expect(response.headers.etag.length).toEqual(1)\n      |                                                     ^ Magic Number\n  294 |         expect(response.headers.etag[0].key).toMatch('etag')\n  295 |         expect(response.headers.etag[0].value).toMatch(etagRegex)\n  296 |         expect(response.headers['last-modified'].length).toEqual(1)","start":{"line":293,"column":53,"index":9438}},{"frame":"  294 |         expect(response.headers.etag[0].key).toMatch('etag')\n  295 |         expect(response.headers.etag[0].value).toMatch(etagRegex)\n> 296 |         expect(response.headers['last-modified'].length).toEqual(1)\n      |                                                                 ^ Magic Number\n  297 |         expect(response.headers['last-modified'][0].key).toMatch('last-modified')\n  298 |         expect(response.headers['last-modified'][0].value).toMatch(lastModifiedRegex)\n  299 |         delete response.headers.etag","start":{"line":296,"column":65,"index":9633}},{"frame":"  544 |       await serverlessExpressInstance(event)\n  545 |\n> 546 |       expect(customLogger.debug.mock.calls.length).toBe(6)\n      |                                                        ^ Magic Number\n  547 |\n  548 |       // TODO: test log levels\n  549 |       // customLogger.level = 'error'","start":{"line":546,"column":56,"index":16539}}]},{"name":"Mystery Guest","packageName":"mysteryGuest","items":[{"frame":"  250 |     const response = await serverlessExpressInstance(event)\n  251 |\n> 252 |     const samLogoImage = fs.readFileSync(samLogoPath)\n      |                         ^ Mystery Guest\n  253 |     const samLogoBase64 = Buffer.from(samLogoImage).toString('base64')\n  254 |     const expectedResponse = makeResponse({\n  255 |       eventSourceName,","start":{"column":25,"line":252}}]}],"metrics":{"aggregate":{"cyclomatic":64,"cyclomaticDensity":7.547,"halstead":{"bugs":8.962,"difficulty":55.484,"effort":1491754.593,"length":3150,"time":82875.255,"vocabulary":371,"volume":26886.117,"operands":{"distinct":348,"total":1679,"identifiers":["path","require","\"path\"","fs","\"fs\"","express","\"express\"","bodyParser","\"body-parser\"","ejs","\"ejs\"","__express","serverlessExpress","\"../src/index\"","serverlessExpressLogger","\"../src/logger\"","makeEvent","makeResponse","EACH_MATRIX","\"../jest-helpers\"","jestHelpersPath","join","__dirname","\"..\"","\"jest-helpers\"","app","router","serverlessExpressInstance","describe","each","\"%s:%s: integration tests\"","eventSourceName","frameworkName","beforeEach","Router","use","\"/\"","test","\"serverlessExpressInstance returns promise\"","event","httpMethod","\"GET\"","response","expect","then","toBeTruthy","\"GET HTML\"","set","\"view engine\"","engine","\".ejs\"","\"views\"","get","req","res","getCurrentInvoke","eventPath","rawPath","Records","0","cf","request","uri","render","\"index\"","expected","\"<!DOCTYPE html><html><body>/</body></html>\"","body","toEqual","expectedResponse","multiValueHeaders","\"content-length\"","\"42\"","\"content-type\"","\"text/html; charset=utf-8\"","etag","\"W/\"2a-wmySkjN5My1aqVauhBIBaC50kxs\"\"","\"GET JSON\"","multiValueQueryStringParameters","singleNormal","\"1\"","singleSpecial","\"hello world!\"","arr","\"a\"","\"b\"","\"hello world~\"","queryStringParameters","\"/users\"","query","\"X-Custom-Header\"","json","JSON","stringify","\"82\"","\"W/\"52-QR4hWttXm/4xeZPYy7nze/EjYXg\"\"","\"x-custom-header\"","\"headers get lowercased\"","\"/foo\"","xHeaders","Object","fromEntries","entries","headers","filter","name","startsWith","\"x-header-\"","\"apiGatewayV1\"","undefined","\"X-Header-One\"","\"Value1\"","\"x-header-two\"","\"Value2\"","\"x-header-one\"","toMatchObject","\"resolutionMode = CALLBACK\"","done","jsonResponse","data","\"Brett\"","callback","e","\"25\"","\"W/\"19-dkLV0OMoaMM+tzXUD50EB/AHHoI\"\"","serverlessExpressInstanceWithCallbackResolutionMode","resolutionMode","\"CALLBACK\"","\"resolutionMode = CONTEXT\"","context","succeed","serverlessExpressInstanceWithContextResolutionMode","\"CONTEXT\"","\"GET missing route\"","\"/nothing-here\"","\"<!DOCTYPE html>\"","toBe","true","\"151\"","\"content-security-policy\"","\"default-src 'none'\"","\"x-content-type-options\"","\"nosniff\"","statusCode","404","shouldConvertContentLengthToInt","\"GET 404\"","\"/users/:userId\"","status","id","params","userId","\"/users/3\"","\"3\"","\"10\"","\"W/\"a-lfm5LdsGBlIttC0+rnSiywX9+Wc\"\"","\"GET image\"","samLogoPath","\"sam-logo.png\"","\"/sam\"","sendFile","samLogoImage","readFileSync","samLogoBase64","Buffer","from","toString","\"base64\"","\"accept-ranges\"","\"bytes\"","\"cache-control\"","\"public, max-age=0\"","\"15933\"","\"image/png\"","isBase64Encoded","etagRegex","/^W\\/.*$/","lastModifiedRegex","/^.* GMT$/","\"alb\"","length","1","toMatch","\"last-modified\"","\"azureHttpFunctionV4\"","false","\"azureHttpFunctionV3\"","\"apiGatewayV2\"","key","\"etag\"","value","\"lambdaEdge\"","\"POST JSON\"","\"Squidward\"","post","201","\"POST\"","{\"name\": \"","\"}","\"application/json\"","\"29\"","\"W/\"1d-9ERga12t1e/5eBdg3k9zfIvAfWo\"\"","\"DELETE JSON\"","delete","\"/users/:id\"","\"/users/1\"","\"DELETE\"","\"[]\"","\"2\"","\"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"\"","200","\"PUT JSON\"","\"Spongebob\"","put","\"/users/2\"","\"PUT\"","\"W/\"1d-S5aeqkgQbnSMqjyXJrRTGxN4UiY\"\"","\"base64 encoded request\"","\"Patrick\"","\"binary\"","\"27\"","\"W/\"1b-bCkbUU5T9Cepc4SpN5w/iwctZZw\"\"","skip","\"respondToEventSourceWithError\"","null","500","\"\"","\"set-cookie\"","now","Date","2022","7","11","3","30","maxAge","3000","expires","expectedExpires","toUTCString","jest","useFakeTimers","\"modern\"","setSystemTime","\"/cookie\"","cookie","\"Zoo\"","\"boo\"","domain","\"mafoo.com\"","secure","httpOnly","sameSite","\"Strict\"","\"Foo\"","\"bar\"","\"example.com\"","\"Fizz\"","\"buzz\"","expectedSetCookieHeaders","Zoo=boo; Max-Age=3; Domain=mafoo.com; Path=/; Expires=","; HttpOnly; Secure; SameSite=Strict","\"Foo=bar; Domain=example.com; Path=/; HttpOnly; Secure; SameSite=Strict\"","\"Fizz=buzz; Path=/\"","\"{}\"","cookies","\"W/\"2-vyGp6PvFo4RvsFtPoIWeCReyIC8\"\"","useRealTimers","1000","\"logger\"","mocks","mockMethods","\"error\"","\"info\"","\"warn\"","\"log\"","\"debug\"","method","push","spyOn","global","console","mockImplementation","afterEach","mock","mockRestore","\"custom logger\"","customLogger","error","fn","warn","info","verbose","debug","log","calls","6","\"custom levels\"","loggerError","level","\"nocall\"","not","toHaveBeenCalled","toHaveBeenLastCalledWith","message","loggerWarn","\"error2\"","\"warn2\"","loggerInfo","\"error3\"","\"warn3\"","\"info3\"","loggerVerbose","\"verbose\"","\"error4\"","\"warn4\"","\"info4\"","\"verbose4\"","loggerDebug","\"error5\"","\"warn5\"","\"info5\"","\"verbose5\"","\"debug5\"","\"lazy print of logger\"","logger","\"simple message\"","\"=true\"","\" works\"","\"array\"","\"message\"","toHaveBeenNthCalledWith","2","4","\"legacy/deprecated createServer\"","serverlessExpressMiddleware","\"../src/middleware\"","eventContext","apiGateway","binaryMimeTypes","server","createServer","proxy","\"17\"","\"W/\"11-eM8YArY+qNwdvTL2ppeAaFc4Oq8\"\"","\"legacy/deprecated handler\"","handler","\"legacy/deprecated proxy\""]},"operators":{"distinct":23,"total":1471,"identifiers":["const","=","()",".","{}","let","function=>",":","||","[]","delete (prefix)",",","... (spread)","switch","case","break","``","${}","new","+","+ (prefix)","/","forof"]}},"paramCount":40,"sloc":{"logical":848,"physical":776}},"settings":{"commonjs":false,"esmImportExport":{"halstead":false,"lloc":false},"forin":false,"logicalor":true,"switchcase":true,"templateExpression":{"halstead":true,"lloc":true},"trycatch":false,"newmi":false},"classes":[],"dependencies":[],"errors":[],"lineEnd":776,"lineStart":1,"maintainability":88.814,"methods":[{"cyclomatic":1,"cyclomaticDensity":2.5,"halstead":{"bugs":0.132,"difficulty":2.625,"effort":1035.971,"length":83,"time":57.554,"vocabulary":27,"volume":394.656,"operands":{"distinct":24,"total":42,"identifiers":["beforeEach","test","\"serverlessExpressInstance returns promise\"","\"GET HTML\"","\"GET JSON\"","\"headers get lowercased\"","\"resolutionMode = CALLBACK\"","done","\"resolutionMode = CONTEXT\"","\"GET missing route\"","\"GET 404\"","\"GET image\"","\"POST JSON\"","\"DELETE JSON\"","\"PUT JSON\"","\"base64 encoded request\"","skip","\"respondToEventSourceWithError\"","\"set-cookie\"","describe","\"logger\"","\"legacy/deprecated createServer\"","\"legacy/deprecated handler\"","\"legacy/deprecated proxy\""]},"operators":{"distinct":3,"total":41,"identifiers":["()","function=>","."]}},"paramCount":2,"sloc":{"logical":40,"physical":759},"errors":[],"lineEnd":775,"lineStart":17,"name":"<anon method-1>","paramNames":["eventSourceName","frameworkName"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.027,"difficulty":3.25,"effort":267.976,"length":23,"time":14.888,"vocabulary":12,"volume":82.454,"operands":{"distinct":8,"total":13,"identifiers":["app","express","router","Router","use","\"/\"","serverlessExpressInstance","serverlessExpress"]},"operators":{"distinct":4,"total":10,"identifiers":["=","()",".","{}"]}},"paramCount":0,"sloc":{"logical":8,"physical":6},"errors":[],"lineEnd":23,"lineStart":18,"name":"<anon method-2>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.039,"difficulty":3.75,"effort":437.842,"length":28,"time":24.325,"vocabulary":18,"volume":116.758,"operands":{"distinct":12,"total":15,"identifiers":["event","makeEvent","eventSourceName","path","\"/\"","httpMethod","\"GET\"","response","serverlessExpressInstance","expect","then","toBeTruthy"]},"operators":{"distinct":6,"total":13,"identifiers":["const","=","()","{}",":","."]}},"paramCount":0,"sloc":{"logical":9,"physical":9},"errors":[],"lineEnd":33,"lineStart":25,"name":"<anon method-3>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.704,"halstead":{"bugs":0.188,"difficulty":6.932,"effort":3905.755,"length":102,"time":216.986,"vocabulary":46,"volume":563.403,"operands":{"distinct":37,"total":57,"identifiers":["app","set","\"view engine\"","\"ejs\"","engine","\".ejs\"","ejs","\"views\"","path","join","jestHelpersPath","router","get","\"/\"","req","res","event","makeEvent","eventSourceName","httpMethod","\"GET\"","response","serverlessExpressInstance","expected","\"<!DOCTYPE html><html><body>/</body></html>\"","expect","body","toEqual","expectedResponse","makeResponse","multiValueHeaders","\"content-length\"","\"42\"","\"content-type\"","\"text/html; charset=utf-8\"","etag","\"W/\"2a-wmySkjN5My1aqVauhBIBaC50kxs\"\""]},"operators":{"distinct":9,"total":45,"identifiers":["()",".","function=>","const","=","{}",":","[]","delete (prefix)"]}},"paramCount":0,"sloc":{"logical":27,"physical":31},"errors":[],"lineEnd":65,"lineStart":35,"name":"<anon method-4>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":50,"halstead":{"bugs":0.059,"difficulty":5.714,"effort":1019.299,"length":40,"time":56.628,"vocabulary":22,"volume":178.377,"operands":{"distinct":14,"total":20,"identifiers":["event","serverlessExpress","getCurrentInvoke","eventPath","path","rawPath","Records","0","cf","request","uri","res","render","\"index\""]},"operators":{"distinct":8,"total":20,"identifiers":["const","=","{}","()",".","||","[]",":"]}},"paramCount":2,"sloc":{"logical":6,"physical":7},"errors":[],"lineEnd":45,"lineStart":39,"name":"<anon method-5>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.226,"halstead":{"bugs":0.201,"difficulty":8.056,"effort":4849.994,"length":109,"time":269.444,"vocabulary":46,"volume":602.068,"operands":{"distinct":36,"total":58,"identifiers":["multiValueQueryStringParameters","singleNormal","\"1\"","singleSpecial","\"hello world!\"","arr","\"a\"","\"b\"","\"hello world~\"","queryStringParameters","router","get","\"/users\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","response","serverlessExpressInstance","expectedResponse","makeResponse","body","JSON","stringify","multiValueHeaders","\"content-length\"","\"82\"","etag","\"W/\"52-QR4hWttXm/4xeZPYy7nze/EjYXg\"\"","\"x-custom-header\"","expect","toEqual"]},"operators":{"distinct":10,"total":51,"identifiers":["const","=","{}",":","[]",",","()",".","function=>","... (spread)"]}},"paramCount":0,"sloc":{"logical":31,"physical":38},"errors":[],"lineEnd":104,"lineStart":67,"name":"<anon method-6>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.037,"difficulty":5.556,"effort":613.407,"length":29,"time":34.078,"vocabulary":14,"volume":110.413,"operands":{"distinct":9,"total":20,"identifiers":["singleNormal","singleSpecial","arr","req","query","res","set","\"X-Custom-Header\"","json"]},"operators":{"distinct":5,"total":9,"identifiers":["const","=","{}",".","()"]}},"paramCount":2,"sloc":{"logical":9,"physical":5},"errors":[],"lineEnd":82,"lineStart":78,"name":"<anon method-7>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.226,"halstead":{"bugs":0.174,"difficulty":5.056,"effort":2633.547,"length":96,"time":146.308,"vocabulary":43,"volume":520.921,"operands":{"distinct":36,"total":52,"identifiers":["app","express","router","Router","use","\"/\"","serverlessExpressInstance","serverlessExpress","get","\"/foo\"","req","res","event","makeEvent","eventSourceName","\"apiGatewayV1\"","path","httpMethod","\"GET\"","multiValueHeaders","undefined","headers","\"X-Header-One\"","\"Value1\"","\"x-header-two\"","\"Value2\"","response","expectedResponse","makeResponse","body","JSON","stringify","xHeaders","\"x-header-one\"","expect","toMatchObject"]},"operators":{"distinct":7,"total":44,"identifiers":["=","()",".","{}","function=>","const",":"]}},"paramCount":0,"sloc":{"logical":31,"physical":33},"errors":[],"lineEnd":138,"lineStart":106,"name":"<anon method-8>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.037,"difficulty":4.55,"effort":502.145,"length":27,"time":27.897,"vocabulary":17,"volume":110.361,"operands":{"distinct":10,"total":13,"identifiers":["xHeaders","Object","fromEntries","entries","req","headers","filter","name","res","json"]},"operators":{"distinct":7,"total":14,"identifiers":["const","=","()",".","function=>","[]","{}"]}},"paramCount":2,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":116,"lineStart":111,"name":"<anon method-9>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["name","startsWith","\"x-header-\""]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":113,"lineStart":113,"name":"<anon method-10>","paramNames":["name"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":5.882,"halstead":{"bugs":0.088,"difficulty":4.413,"effort":1169.333,"length":54,"time":64.963,"vocabulary":30,"volume":264.972,"operands":{"distinct":23,"total":29,"identifiers":["jsonResponse","data","name","\"Brett\"","router","get","\"/users\"","req","res","callback","e","response","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","serverlessExpressInstanceWithCallbackResolutionMode","serverlessExpress","app","resolutionMode","\"CALLBACK\""]},"operators":{"distinct":7,"total":25,"identifiers":["const","=","{}",":","()",".","function=>"]}},"paramCount":1,"sloc":{"logical":17,"physical":26},"errors":[],"lineEnd":165,"lineStart":140,"name":"<anon method-11>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["res","json","jsonResponse"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":2,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":144,"lineStart":142,"name":"<anon method-12>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.053,"difficulty":3.938,"effort":623.403,"length":35,"time":34.634,"vocabulary":23,"volume":158.325,"operands":{"distinct":16,"total":18,"identifiers":["expectedResponse","makeResponse","eventSourceName","body","JSON","stringify","jsonResponse","multiValueHeaders","\"content-length\"","\"25\"","etag","\"W/\"19-dkLV0OMoaMM+tzXUD50EB/AHHoI\"\"","expect","response","toEqual","done"]},"operators":{"distinct":7,"total":17,"identifiers":["const","=","()","{}",":",".","[]"]}},"paramCount":2,"sloc":{"logical":11,"physical":12},"errors":[],"lineEnd":156,"lineStart":145,"name":"<anon method-13>","paramNames":["e","response"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":5.556,"halstead":{"bugs":0.093,"difficulty":4.565,"effort":1276.858,"length":57,"time":70.937,"vocabulary":30,"volume":279.693,"operands":{"distinct":23,"total":30,"identifiers":["jsonResponse","data","name","\"Brett\"","router","get","\"/users\"","req","res","context","succeed","response","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","serverlessExpressInstanceWithContextResolutionMode","serverlessExpress","app","resolutionMode","\"CONTEXT\""]},"operators":{"distinct":7,"total":27,"identifiers":["const","=","{}",":","()",".","function=>"]}},"paramCount":1,"sloc":{"logical":18,"physical":26},"errors":[],"lineEnd":192,"lineStart":167,"name":"<anon method-14>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["res","json","jsonResponse"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":2,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":171,"lineStart":169,"name":"<anon method-15>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.053,"difficulty":3.938,"effort":623.403,"length":35,"time":34.634,"vocabulary":23,"volume":158.325,"operands":{"distinct":16,"total":18,"identifiers":["expectedResponse","makeResponse","eventSourceName","body","JSON","stringify","jsonResponse","multiValueHeaders","\"content-length\"","\"25\"","etag","\"W/\"19-dkLV0OMoaMM+tzXUD50EB/AHHoI\"\"","expect","response","toEqual","done"]},"operators":{"distinct":7,"total":17,"identifiers":["const","=","()","{}",":",".","[]"]}},"paramCount":1,"sloc":{"logical":11,"physical":12},"errors":[],"lineEnd":184,"lineStart":173,"name":"<anon method-16>","paramNames":["response"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":4.167,"halstead":{"bugs":0.143,"difficulty":5.733,"effort":2467.226,"length":82,"time":137.068,"vocabulary":38,"volume":430.33,"operands":{"distinct":30,"total":43,"identifiers":["event","makeEvent","eventSourceName","path","\"/nothing-here\"","httpMethod","\"GET\"","response","serverlessExpressInstance","expect","body","startsWith","\"<!DOCTYPE html>\"","toBe","true","expectedResponse","makeResponse","multiValueHeaders","\"content-length\"","\"151\"","\"content-security-policy\"","\"default-src 'none'\"","\"content-type\"","\"text/html; charset=utf-8\"","\"x-content-type-options\"","\"nosniff\"","statusCode","404","shouldConvertContentLengthToInt","toEqual"]},"operators":{"distinct":8,"total":39,"identifiers":["const","=","()","{}",":",".","[]","delete (prefix)"]}},"paramCount":0,"sloc":{"logical":24,"physical":22},"errors":[],"lineEnd":215,"lineStart":194,"name":"<anon method-17>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":4.762,"halstead":{"bugs":0.117,"difficulty":4.8,"effort":1687.733,"length":67,"time":93.763,"vocabulary":38,"volume":351.611,"operands":{"distinct":30,"total":36,"identifiers":["router","get","\"/users/:userId\"","req","res","event","makeEvent","eventSourceName","path","\"/users/3\"","httpMethod","\"GET\"","response","serverlessExpressInstance","expectedResponse","makeResponse","body","JSON","stringify","id","\"3\"","multiValueHeaders","\"content-length\"","\"10\"","etag","\"W/\"a-lfm5LdsGBlIttC0+rnSiywX9+Wc\"\"","statusCode","404","expect","toEqual"]},"operators":{"distinct":8,"total":31,"identifiers":["()",".","function=>","const","=","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":21,"physical":21},"errors":[],"lineEnd":237,"lineStart":217,"name":"<anon method-18>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.019,"difficulty":2,"effort":114.719,"length":16,"time":6.373,"vocabulary":12,"volume":57.359,"operands":{"distinct":8,"total":8,"identifiers":["res","status","404","json","id","req","params","userId"]},"operators":{"distinct":4,"total":8,"identifiers":["()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":3,"physical":3},"errors":[],"lineEnd":220,"lineStart":218,"name":"<anon method-19>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":7,"cyclomaticDensity":8.642,"halstead":{"bugs":0.772,"difficulty":18.667,"effort":43252.917,"length":372,"time":2402.94,"vocabulary":75,"volume":2317.121,"operands":{"distinct":63,"total":196,"identifiers":["samLogoPath","path","join","jestHelpersPath","\"sam-logo.png\"","router","get","\"/sam\"","req","res","event","makeEvent","eventSourceName","httpMethod","\"GET\"","response","serverlessExpressInstance","samLogoImage","fs","readFileSync","samLogoBase64","Buffer","from","toString","\"base64\"","expectedResponse","makeResponse","body","multiValueHeaders","\"accept-ranges\"","\"bytes\"","\"cache-control\"","\"public, max-age=0\"","\"content-length\"","\"15933\"","\"content-type\"","\"image/png\"","isBase64Encoded","true","shouldConvertContentLengthToInt","etagRegex","/^W\\/.*$/","lastModifiedRegex","/^.* GMT$/","\"alb\"","expect","etag","length","toEqual","1","0","toMatch","\"last-modified\"","\"apiGatewayV1\"","\"azureHttpFunctionV4\"","false","headers","\"azureHttpFunctionV3\"","\"apiGatewayV2\"","key","\"etag\"","value","\"lambdaEdge\""]},"operators":{"distinct":12,"total":176,"identifiers":["const","=","()",".","function=>","{}",":","[]","switch","case","delete (prefix)","break"]}},"paramCount":0,"sloc":{"logical":81,"physical":66},"errors":[],"lineEnd":304,"lineStart":239,"name":"<anon method-20>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["res","sendFile","samLogoPath"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":2,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":243,"lineStart":241,"name":"<anon method-21>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.571,"halstead":{"bugs":0.176,"difficulty":6.757,"effort":3565.446,"length":95,"time":198.08,"vocabulary":47,"volume":527.686,"operands":{"distinct":37,"total":50,"identifiers":["name","\"Squidward\"","router","use","bodyParser","json","post","\"/users\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"POST\"","body","{\"name\": \"","\"}","multiValueHeaders","\"content-type\"","\"application/json\"","response","serverlessExpressInstance","expectedResponse","makeResponse","JSON","stringify","data","\"content-length\"","\"29\"","etag","\"W/\"1d-9ERga12t1e/5eBdg3k9zfIvAfWo\"\"","statusCode","201","expect","toEqual"]},"operators":{"distinct":10,"total":45,"identifiers":["const","=","()",".","function=>","{}",":","``","${}","[]"]}},"paramCount":0,"sloc":{"logical":28,"physical":27},"errors":[],"lineEnd":332,"lineStart":306,"name":"<anon method-22>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.023,"difficulty":2.25,"effort":153.257,"length":19,"time":8.514,"vocabulary":12,"volume":68.114,"operands":{"distinct":8,"total":9,"identifiers":["res","status","201","json","data","name","req","body"]},"operators":{"distinct":4,"total":10,"identifiers":["()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":4,"physical":3},"errors":[],"lineEnd":311,"lineStart":309,"name":"<anon method-23>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":5.263,"halstead":{"bugs":0.103,"difficulty":4.889,"effort":1504.59,"length":60,"time":83.588,"vocabulary":35,"volume":307.757,"operands":{"distinct":27,"total":33,"identifiers":["router","delete","\"/users/:id\"","req","res","event","makeEvent","eventSourceName","path","\"/users/1\"","httpMethod","\"DELETE\"","response","serverlessExpressInstance","expectedResponse","makeResponse","body","\"[]\"","multiValueHeaders","\"content-length\"","\"2\"","etag","\"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"\"","statusCode","200","expect","toEqual"]},"operators":{"distinct":8,"total":27,"identifiers":["()",".","function=>","const","=","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":19,"physical":21},"errors":[],"lineEnd":354,"lineStart":334,"name":"<anon method-24>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1.5,"effort":17.414,"length":5,"time":0.967,"vocabulary":5,"volume":11.61,"operands":{"distinct":2,"total":2,"identifiers":["res","json"]},"operators":{"distinct":3,"total":3,"identifiers":["()",".","[]"]}},"paramCount":2,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":337,"lineStart":335,"name":"<anon method-25>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.333,"halstead":{"bugs":0.178,"difficulty":5.622,"effort":2994.693,"length":97,"time":166.372,"vocabulary":45,"volume":532.71,"operands":{"distinct":37,"total":52,"identifiers":["name","\"Spongebob\"","router","use","bodyParser","json","put","\"/users/:id\"","req","res","event","makeEvent","eventSourceName","path","\"/users/2\"","httpMethod","\"PUT\"","body","JSON","stringify","multiValueHeaders","\"content-type\"","\"application/json\"","response","serverlessExpressInstance","expectedResponse","makeResponse","id","\"2\"","\"content-length\"","\"29\"","etag","\"W/\"1d-S5aeqkgQbnSMqjyXJrRTGxN4UiY\"\"","statusCode","200","expect","toEqual"]},"operators":{"distinct":8,"total":45,"identifiers":["const","=","()",".","function=>","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":30,"physical":30},"errors":[],"lineEnd":385,"lineStart":356,"name":"<anon method-26>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.018,"difficulty":3.333,"effort":184.503,"length":16,"time":10.25,"vocabulary":11,"volume":55.351,"operands":{"distinct":6,"total":8,"identifiers":["res","json","id","req","params","body"]},"operators":{"distinct":5,"total":8,"identifiers":["()",".","{}",":","... (spread)"]}},"paramCount":2,"sloc":{"logical":2,"physical":6},"errors":[],"lineEnd":364,"lineStart":359,"name":"<anon method-27>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.03,"halstead":{"bugs":0.207,"difficulty":5.364,"effort":3332.684,"length":109,"time":185.149,"vocabulary":52,"volume":621.348,"operands":{"distinct":44,"total":59,"identifiers":["name","\"Patrick\"","router","use","bodyParser","json","put","\"/users/:id\"","req","res","event","makeEvent","eventSourceName","path","\"/users/2\"","httpMethod","\"PUT\"","body","Buffer","from","JSON","stringify","\"binary\"","toString","\"base64\"","isBase64Encoded","true","multiValueHeaders","\"content-type\"","\"application/json\"","response","serverlessExpressInstance","expectedResponse","makeResponse","id","\"2\"","\"content-length\"","\"27\"","etag","\"W/\"1b-bCkbUU5T9Cepc4SpN5w/iwctZZw\"\"","statusCode","200","expect","toEqual"]},"operators":{"distinct":8,"total":50,"identifiers":["const","=","()",".","function=>","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":33,"physical":35},"errors":[],"lineEnd":421,"lineStart":387,"name":"<anon method-28>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.018,"difficulty":3.333,"effort":184.503,"length":16,"time":10.25,"vocabulary":11,"volume":55.351,"operands":{"distinct":6,"total":8,"identifiers":["res","json","id","req","params","body"]},"operators":{"distinct":5,"total":8,"identifiers":["()",".","{}",":","... (spread)"]}},"paramCount":2,"sloc":{"logical":2,"physical":6},"errors":[],"lineEnd":395,"lineStart":390,"name":"<anon method-29>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":14.286,"halstead":{"bugs":0.029,"difficulty":3.3,"effort":290.4,"length":22,"time":16.133,"vocabulary":16,"volume":88,"operands":{"distinct":10,"total":11,"identifiers":["response","serverlessExpressInstance","null","expect","toEqual","statusCode","500","body","\"\"","multiValueHeaders"]},"operators":{"distinct":6,"total":11,"identifiers":["const","=","()",".","{}",":"]}},"paramCount":0,"sloc":{"logical":7,"physical":8},"errors":[],"lineEnd":430,"lineStart":423,"name":"<anon method-30>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":5.556,"halstead":{"bugs":0.428,"difficulty":14.4,"effort":18510.147,"length":199,"time":1028.342,"vocabulary":88,"volume":1285.427,"operands":{"distinct":70,"total":112,"identifiers":["now","Date","2022","7","11","3","30","maxAge","3000","expires","expectedExpires","toUTCString","jest","useFakeTimers","\"modern\"","setSystemTime","router","get","\"/cookie\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","response","serverlessExpressInstance","expectedSetCookieHeaders","Zoo=boo; Max-Age=3; Domain=mafoo.com; Path=/; Expires=","; HttpOnly; Secure; SameSite=Strict","\"Foo=bar; Domain=example.com; Path=/; HttpOnly; Secure; SameSite=Strict\"","\"Fizz=buzz; Path=/\"","expectedResponse","makeResponse","body","\"{}\"","cookies","multiValueHeaders","\"set-cookie\"","\"content-length\"","\"2\"","etag","\"W/\"2-vyGp6PvFo4RvsFtPoIWeCReyIC8\"\"","statusCode","200","useRealTimers","\"azureHttpFunctionV4\"","domain","\"mafoo.com\"","httpOnly","true","name","\"Zoo\"","\"/\"","sameSite","\"Strict\"","secure","value","\"boo\"","1000","\"example.com\"","\"Foo\"","\"bar\"","\"Fizz\"","\"buzz\"","\"azureHttpFunctionV3\"","expect","toEqual"]},"operators":{"distinct":18,"total":87,"identifiers":["const","=","new","+","+ (prefix)","()",".","function=>","{}",":","[]",",","``","${}","switch","case","/","break"]}},"paramCount":0,"sloc":{"logical":54,"physical":72},"errors":[],"lineEnd":503,"lineStart":432,"name":"<anon method-31>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.076,"difficulty":3.556,"effort":808.644,"length":51,"time":44.925,"vocabulary":22,"volume":227.431,"operands":{"distinct":18,"total":32,"identifiers":["res","cookie","\"Zoo\"","\"boo\"","domain","\"mafoo.com\"","secure","true","httpOnly","sameSite","\"Strict\"","maxAge","\"Foo\"","\"bar\"","\"example.com\"","\"Fizz\"","\"buzz\"","json"]},"operators":{"distinct":4,"total":19,"identifiers":["()",".","{}",":"]}},"paramCount":2,"sloc":{"logical":13,"physical":6},"errors":[],"lineEnd":446,"lineStart":441,"name":"<anon method-32>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.026,"difficulty":3.214,"effort":253.508,"length":22,"time":14.084,"vocabulary":12,"volume":78.869,"operands":{"distinct":7,"total":9,"identifiers":["mocks","beforeEach","afterEach","test","\"custom logger\"","\"custom levels\"","\"lazy print of logger\""]},"operators":{"distinct":5,"total":13,"identifiers":["const","=","[]","()","function=>"]}},"paramCount":0,"sloc":{"logical":11,"physical":181},"errors":[],"lineEnd":685,"lineStart":505,"name":"<anon method-33>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":20,"halstead":{"bugs":0.047,"difficulty":4,"effort":562.217,"length":32,"time":31.234,"vocabulary":21,"volume":140.554,"operands":{"distinct":14,"total":16,"identifiers":["mockMethods","\"error\"","\"info\"","\"warn\"","\"log\"","\"debug\"","method","mocks","push","jest","spyOn","global","console","mockImplementation"]},"operators":{"distinct":7,"total":16,"identifiers":["const","=","[]",",","forof","()","."]}},"paramCount":0,"sloc":{"logical":5,"physical":11},"errors":[],"lineEnd":518,"lineStart":508,"name":"<anon method-34>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":2.667,"effort":59.89,"length":8,"time":3.327,"vocabulary":7,"volume":22.459,"operands":{"distinct":3,"total":4,"identifiers":["mock","mocks","mockRestore"]},"operators":{"distinct":4,"total":4,"identifiers":["forof","const","()","."]}},"paramCount":0,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":522,"lineStart":520,"name":"<anon method-35>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.226,"halstead":{"bugs":0.177,"difficulty":5.727,"effort":3048.013,"length":100,"time":169.334,"vocabulary":40,"volume":532.193,"operands":{"distinct":33,"total":54,"identifiers":["app","express","router","Router","use","\"/\"","get","\"/users\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","customLogger","error","jest","fn","warn","info","verbose","debug","serverlessExpressInstance","serverlessExpress","log","expect","mock","calls","length","toBe","6"]},"operators":{"distinct":7,"total":46,"identifiers":["=","()",".","function=>","const","{}",":"]}},"paramCount":0,"sloc":{"logical":31,"physical":34},"errors":[],"lineEnd":557,"lineStart":524,"name":"<anon method-36>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1.5,"effort":17.414,"length":5,"time":0.967,"vocabulary":5,"volume":11.61,"operands":{"distinct":2,"total":2,"identifiers":["res","json"]},"operators":{"distinct":3,"total":3,"identifiers":["()",".","{}"]}},"paramCount":2,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":530,"lineStart":528,"name":"<anon method-37>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":1.064,"halstead":{"bugs":0.802,"difficulty":17.615,"effort":42372.604,"length":438,"time":2354.034,"vocabulary":45,"volume":2405.432,"operands":{"distinct":39,"total":229,"identifiers":["loggerError","serverlessExpressLogger","level","\"error\"","error","info","\"nocall\"","warn","debug","verbose","expect","global","console","not","toHaveBeenCalled","toHaveBeenLastCalledWith","message","loggerWarn","\"warn\"","\"error2\"","\"warn2\"","loggerInfo","\"info\"","\"error3\"","\"warn3\"","\"info3\"","loggerVerbose","\"verbose\"","\"error4\"","\"warn4\"","\"info4\"","\"verbose4\"","loggerDebug","\"debug\"","\"error5\"","\"warn5\"","\"info5\"","\"verbose5\"","\"debug5\""]},"operators":{"distinct":6,"total":209,"identifiers":["const","=","()","{}",":","."]}},"paramCount":0,"sloc":{"logical":94,"physical":89},"errors":[],"lineEnd":647,"lineStart":559,"name":"<anon method-38>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":4.167,"halstead":{"bugs":0.165,"difficulty":11,"effort":5446.733,"length":103,"time":302.596,"vocabulary":28,"volume":495.158,"operands":{"distinct":20,"total":55,"identifiers":["logger","serverlessExpressLogger","level","\"debug\"","debug","\"simple message\"","\" works\"","\"array\"","\"message\"","expect","global","console","toHaveBeenNthCalledWith","1","message","2","0","\"=true\"","3","4"]},"operators":{"distinct":8,"total":48,"identifiers":["const","=","()","{}",":",".","function=>","[]"]}},"paramCount":0,"sloc":{"logical":24,"physical":36},"errors":[],"lineEnd":684,"lineStart":649,"name":"<anon method-39>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":1,"time":0,"vocabulary":1,"volume":0,"operands":{"distinct":1,"total":1,"identifiers":["\"=true\""]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":0,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":653,"lineStart":653,"name":"<anon method-40>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":1,"time":0,"vocabulary":1,"volume":0,"operands":{"distinct":1,"total":1,"identifiers":["\"debug\""]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":0,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":654,"lineStart":654,"name":"<anon method-41>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.03,"halstead":{"bugs":0.213,"difficulty":5.951,"effort":3809.238,"length":114,"time":211.624,"vocabulary":49,"volume":640.077,"operands":{"distinct":41,"total":61,"identifiers":["serverlessExpressMiddleware","require","\"../src/middleware\"","app","express","router","Router","use","\"/\"","eventContext","get","\"/users\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","binaryMimeTypes","server","serverlessExpress","createServer","null","response","proxy","expectedResponse","makeResponse","body","JSON","stringify","multiValueHeaders","\"content-length\"","\"17\"","etag","\"W/\"11-eM8YArY+qNwdvTL2ppeAaFc4Oq8\"\"","statusCode","200","expect","toEqual"]},"operators":{"distinct":8,"total":53,"identifiers":["const","=","()",".","function=>","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":33,"physical":32},"errors":[],"lineEnd":718,"lineStart":687,"name":"<anon method-42>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":60,"halstead":{"bugs":0.056,"difficulty":5.846,"effort":975.77,"length":38,"time":54.209,"vocabulary":21,"volume":166.908,"operands":{"distinct":13,"total":19,"identifiers":["event","req","apiGateway","eventPath","path","rawPath","Records","0","cf","request","uri","res","json"]},"operators":{"distinct":8,"total":19,"identifiers":["const","=","{}",".","||","[]","()",":"]}},"paramCount":2,"sloc":{"logical":5,"physical":7},"errors":[],"lineEnd":699,"lineStart":693,"name":"<anon method-43>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":4,"halstead":{"bugs":0.148,"difficulty":5.333,"effort":2371.61,"length":83,"time":131.756,"vocabulary":41,"volume":444.677,"operands":{"distinct":33,"total":44,"identifiers":["serverlessExpressMiddleware","require","\"../src/middleware\"","router","use","eventContext","get","\"/users\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","response","serverlessExpressInstance","handler","expectedResponse","makeResponse","body","JSON","stringify","multiValueHeaders","\"content-length\"","\"17\"","etag","\"W/\"11-eM8YArY+qNwdvTL2ppeAaFc4Oq8\"\"","statusCode","200","expect","toEqual"]},"operators":{"distinct":8,"total":39,"identifiers":["const","=","()",".","function=>","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":25,"physical":27},"errors":[],"lineEnd":746,"lineStart":720,"name":"<anon method-44>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":60,"halstead":{"bugs":0.056,"difficulty":5.846,"effort":975.77,"length":38,"time":54.209,"vocabulary":21,"volume":166.908,"operands":{"distinct":13,"total":19,"identifiers":["event","req","apiGateway","eventPath","path","rawPath","Records","0","cf","request","uri","res","json"]},"operators":{"distinct":8,"total":19,"identifiers":["const","=","{}",".","||","[]","()",":"]}},"paramCount":2,"sloc":{"logical":5,"physical":7},"errors":[],"lineEnd":729,"lineStart":723,"name":"<anon method-45>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":3.846,"halstead":{"bugs":0.152,"difficulty":5.455,"effort":2483.956,"length":85,"time":137.998,"vocabulary":41,"volume":455.392,"operands":{"distinct":33,"total":45,"identifiers":["serverlessExpressMiddleware","require","\"../src/middleware\"","router","use","eventContext","get","\"/users\"","req","res","event","makeEvent","eventSourceName","path","httpMethod","\"GET\"","response","serverlessExpressInstance","proxy","expectedResponse","makeResponse","body","JSON","stringify","multiValueHeaders","\"content-length\"","\"17\"","etag","\"W/\"11-eM8YArY+qNwdvTL2ppeAaFc4Oq8\"\"","statusCode","200","expect","toEqual"]},"operators":{"distinct":8,"total":40,"identifiers":["const","=","()",".","function=>","{}",":","[]"]}},"paramCount":0,"sloc":{"logical":26,"physical":27},"errors":[],"lineEnd":774,"lineStart":748,"name":"<anon method-46>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":60,"halstead":{"bugs":0.056,"difficulty":5.846,"effort":975.77,"length":38,"time":54.209,"vocabulary":21,"volume":166.908,"operands":{"distinct":13,"total":19,"identifiers":["event","req","apiGateway","eventPath","path","rawPath","Records","0","cf","request","uri","res","json"]},"operators":{"distinct":8,"total":19,"identifiers":["const","=","{}",".","||","[]","()",":"]}},"paramCount":2,"sloc":{"logical":5,"physical":7},"errors":[],"lineEnd":757,"lineStart":751,"name":"<anon method-47>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]}],"aggregateAverage":{"cyclomatic":1.333,"cyclomaticDensity":0.157,"halstead":{"bugs":0.187,"difficulty":1.156,"effort":31078.221,"length":65.625,"time":1726.568,"vocabulary":7.729,"volume":560.127,"operands":{"distinct":7.25,"total":34.979},"operators":{"distinct":0.479,"total":30.646}},"paramCount":0.833,"sloc":{"logical":17.667,"physical":16.167}},"methodAverage":{"cyclomatic":1.34,"cyclomaticDensity":29.539,"halstead":{"bugs":0.115,"difficulty":4.933,"effort":3434.612,"length":65.319,"time":190.812,"vocabulary":26.213,"volume":345.777,"operands":{"distinct":19.957,"total":34.766},"operators":{"distinct":6.255,"total":30.553}},"paramCount":0.851,"sloc":{"logical":17.468,"physical":37.766}}}}]}